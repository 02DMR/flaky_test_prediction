digraph PDG {
label = "testDeadlockTimeout <3...59>";
0.22 [style = filled, label = "if  ( ( ( holder[0] != null )) && ( ( holder[1] != null )) ) <40>", fillcolor = white, shape = diamond];
0.24 [style = filled, label = "printStackTrace(holder[1]); <42>", fillcolor = white, shape = ellipse];
0.15 [style = filled, label = "JDBC.assertDrainResults(ps1.executeQuery()); <31>", fillcolor = white, shape = ellipse];
0.26 [style = filled, label = "SQLException deadlock = ( ( holder[0] == null ))? holder[1]: holder[0]; <45>", fillcolor = white, shape = ellipse];
0.31 [style = filled, label = "int i = 0 <50>", fillcolor = white, shape = ellipse];
0.33 [style = filled, label = "i++ <50>", fillcolor = white, shape = ellipse];
0.28 [style = filled, label = "String[] lines = deadlock.getMessage().split(\"
\"); <47>", fillcolor = white, shape = ellipse];
0.6 [style = filled, label = "assertUpdateCount(s2,1,\"update t set text='yyy' where id=2\"); <10>", fillcolor = white, shape = ellipse];
0.1 [style = filled, label = "Statement s = createStatement(); <5>", fillcolor = white, shape = ellipse];
0.7 [style = filled, label = "PreparedStatement ps1 = prepareStatement(\"select * from t where id=2\"); <11>", fillcolor = white, shape = ellipse];
0.36 [style = filled, label = "assertTrue( ( \"mismatch: \" + line ),m.matches()); <53>", fillcolor = white, shape = ellipse];
0.38 [style = filled, label = "s2.close(); <56>", fillcolor = white, shape = ellipse];
0.4 [style = filled, label = "c2.setAutoCommit(false); <8>", fillcolor = white, shape = ellipse];
0.25 [style = filled, label = "fail(\"Only one of the waiters should be aborted\"); <43>", fillcolor = white, shape = ellipse];
0.34 [style = filled, label = "String line = lines[ ( i + 1 )]; <51>", fillcolor = white, shape = ellipse];
0.27 [style = filled, label = "assertSQLState(\"Not a deadlock\",\"40001\",deadlock); <46>", fillcolor = white, shape = ellipse];
0.29 [style = filled, label = "assertEquals(\"Unexpected number of lines in message\",8,lines.length); <48>", fillcolor = white, shape = ellipse];
0.9 [style = filled, label = "final Barrier barrier = new Barrier(2); <13>", fillcolor = white, shape = ellipse];
0.13 [style = filled, label = "t.start(); <28>", fillcolor = white, shape = ellipse];
0.2 [style = filled, label = "assertUpdateCount(s,1,\"update t set text='xxx' where id=1\"); <6>", fillcolor = white, shape = ellipse];
0.14 [style = filled, label = "barrier.await(); <29>", fillcolor = white, shape = ellipse];
0.40 [style = filled, label = "c2.close(); <58>", fillcolor = deeppink, shape = ellipse];
0.10 [style = filled, label = "final SQLException[] holder = new SQLException[][]; <14>", fillcolor = white, shape = ellipse];
0.20 [style = filled, label = "fail(\"Helper thread failed unexpectedly\",unexpected[0]); <37>", fillcolor = white, shape = ellipse];
0.3 [style = filled, label = "Connection c2 = openDefaultConnection(); <7>", fillcolor = white, shape = ellipse];
0.5 [style = filled, label = "Statement s2 = c2.createStatement(); <9>", fillcolor = white, shape = ellipse];
0.11 [style = filled, label = "final Throwable[] unexpected = new Throwable[][]; <15>", fillcolor = white, shape = ellipse];
0.12 [style = filled, label = "Thread t = new Thread(new Runnable(){
public void run ( ) {
try {
barrier.await();
JDBC.assertDrainResults(ps2.executeQuery());
}catch (catch ( SQLException e )) catch (catch ( Throwable t )) 
}}); <16...27>", fillcolor = white, shape = ellipse];
0.18 [style = filled, label = "t.join(); <35>", fillcolor = white, shape = ellipse];
0.16 [style = filled, label = "catch ( SQLException e ) <32>", fillcolor = white, shape = diamond];
0.32 [style = filled, label = " ( i < ( ( patterns.length * 2 )) ) <50>", fillcolor = white, shape = diamond];
0.23 [style = filled, label = "printStackTrace(holder[0]); <41>", fillcolor = white, shape = ellipse];
0.8 [style = filled, label = "final PreparedStatement ps2 = c2.prepareStatement(\"select * from t where id=1\"); <12>", fillcolor = white, shape = ellipse];
0.21 [style = filled, label = "assertFalse(\"No deadlock\", ( ( ( holder[0] == null )) && ( ( holder[1] == null )) )); <39>", fillcolor = white, shape = ellipse];
0.19 [style = filled, label = "if  ( unexpected[0] != null ) <36>", fillcolor = white, shape = diamond];
0.39 [style = filled, label = "c2.rollback(); <57>", fillcolor = white, shape = ellipse];
0.35 [style = filled, label = "Matcher m = patterns[ ( i % patterns.length )].matcher(line); <52>", fillcolor = white, shape = ellipse];
0.37 [style = filled, label = "s.close(); <55>", fillcolor = white, shape = ellipse];
0.17 [style = filled, label = "holder[1] = e; <33>", fillcolor = white, shape = ellipse];
0.41 [style = filled, label = "Enter <3...59>", fillcolor = aquamarine, shape = diamond];
0.30 [style = filled, label = "Pattern[] patterns = new Pattern[][]com.propertygraph.pe.ExpressionInfo@13982; <49>", fillcolor = white, shape = ellipse];
0.0 [style = filled, label = "setAutoCommit(false); <4>", fillcolor = white, shape = ellipse];
0.0 -> 0.1 [style = bold, label=""];
0.1 -> 0.2 [style = solid, label="s"];
0.1 -> 0.2 [style = bold, label=""];
0.1 -> 0.37 [style = solid, label="s"];
0.2 -> 0.3 [style = bold, label=""];
0.3 -> 0.4 [style = solid, label="c2"];
0.3 -> 0.4 [style = bold, label=""];
0.3 -> 0.5 [style = solid, label="c2"];
0.3 -> 0.8 [style = solid, label="c2"];
0.3 -> 0.39 [style = solid, label="c2"];
0.3 -> 0.40 [style = solid, label="c2"];
0.4 -> 0.5 [style = solid, label="c2"];
0.4 -> 0.5 [style = bold, label=""];
0.4 -> 0.8 [style = solid, label="c2"];
0.4 -> 0.39 [style = solid, label="c2"];
0.4 -> 0.40 [style = solid, label="c2"];
0.5 -> 0.6 [style = solid, label="s2"];
0.5 -> 0.6 [style = bold, label=""];
0.5 -> 0.38 [style = solid, label="s2"];
0.6 -> 0.7 [style = bold, label=""];
0.7 -> 0.8 [style = bold, label=""];
0.7 -> 0.15 [style = solid, label="ps1"];
0.8 -> 0.9 [style = bold, label=""];
0.8 -> 0.12 [style = solid, label="ps2"];
0.9 -> 0.10 [style = bold, label=""];
0.9 -> 0.12 [style = solid, label="barrier"];
0.9 -> 0.14 [style = solid, label="barrier"];
0.10 -> 0.11 [style = bold, label=""];
0.10 -> 0.21 [style = solid, label="holder"];
0.10 -> 0.22 [style = solid, label="holder"];
0.10 -> 0.23 [style = solid, label="holder"];
0.10 -> 0.24 [style = solid, label="holder"];
0.10 -> 0.26 [style = solid, label="holder"];
0.11 -> 0.12 [style = bold, label=""];
0.11 -> 0.19 [style = solid, label="unexpected"];
0.11 -> 0.20 [style = solid, label="unexpected"];
0.12 -> 0.13 [style = solid, label="t"];
0.12 -> 0.13 [style = bold, label=""];
0.12 -> 0.18 [style = solid, label="t"];
0.13 -> 0.14 [style = bold, label=""];
0.13 -> 0.18 [style = solid, label="t"];
0.14 -> 0.15 [style = bold, label=""];
0.15 -> 0.18 [style = bold, label=""];
0.16 -> 0.17 [style = dotted, label="true"];
0.16 -> 0.17 [style = bold, label=""];
0.17 -> 0.18 [style = bold, label=""];
0.17 -> 0.21 [style = solid, label="holder"];
0.17 -> 0.22 [style = solid, label="holder"];
0.17 -> 0.23 [style = solid, label="holder"];
0.17 -> 0.24 [style = solid, label="holder"];
0.17 -> 0.26 [style = solid, label="holder"];
0.18 -> 0.19 [style = bold, label=""];
0.19 -> 0.20 [style = dotted, label="true"];
0.19 -> 0.20 [style = bold, label=""];
0.19 -> 0.21 [style = bold, label=""];
0.20 -> 0.21 [style = bold, label=""];
0.21 -> 0.22 [style = bold, label=""];
0.22 -> 0.23 [style = dotted, label="true"];
0.22 -> 0.23 [style = bold, label=""];
0.22 -> 0.24 [style = dotted, label="true"];
0.22 -> 0.25 [style = dotted, label="true"];
0.22 -> 0.26 [style = bold, label=""];
0.23 -> 0.24 [style = bold, label=""];
0.24 -> 0.25 [style = bold, label=""];
0.25 -> 0.26 [style = bold, label=""];
0.26 -> 0.27 [style = solid, label="deadlock"];
0.26 -> 0.27 [style = bold, label=""];
0.26 -> 0.28 [style = solid, label="deadlock"];
0.27 -> 0.28 [style = bold, label=""];
0.28 -> 0.29 [style = bold, label=""];
0.28 -> 0.34 [style = solid, label="lines"];
0.29 -> 0.30 [style = bold, label=""];
0.30 -> 0.31 [style = bold, label=""];
0.30 -> 0.35 [style = solid, label="patterns"];
0.31 -> 0.32 [style = solid, label="i"];
0.31 -> 0.32 [style = bold, label=""];
0.31 -> 0.33 [style = solid, label="i"];
0.31 -> 0.34 [style = solid, label="i"];
0.31 -> 0.35 [style = solid, label="i"];
0.32 -> 0.33 [style = dotted, label="true"];
0.32 -> 0.34 [style = dotted, label="true"];
0.32 -> 0.34 [style = bold, label=""];
0.32 -> 0.35 [style = dotted, label="true"];
0.32 -> 0.36 [style = dotted, label="true"];
0.32 -> 0.37 [style = bold, label=""];
0.33 -> 0.32 [style = solid, label="i"];
0.33 -> 0.32 [style = bold, label=""];
0.33 -> 0.33 [style = solid, label="i"];
0.33 -> 0.34 [style = solid, label="i"];
0.33 -> 0.35 [style = solid, label="i"];
0.34 -> 0.35 [style = solid, label="line"];
0.34 -> 0.35 [style = bold, label=""];
0.34 -> 0.36 [style = solid, label="line"];
0.35 -> 0.36 [style = solid, label="m"];
0.35 -> 0.36 [style = bold, label=""];
0.36 -> 0.33 [style = bold, label=""];
0.37 -> 0.38 [style = bold, label=""];
0.38 -> 0.39 [style = bold, label=""];
0.39 -> 0.40 [style = solid, label="c2"];
0.39 -> 0.40 [style = bold, label=""];
0.41 -> 0.0 [style = dotted, label="true"];
0.41 -> 0.0 [style = bold, label=""];
0.41 -> 0.1 [style = dotted, label="true"];
0.41 -> 0.2 [style = dotted, label="true"];
0.41 -> 0.3 [style = dotted, label="true"];
0.41 -> 0.4 [style = dotted, label="true"];
0.41 -> 0.5 [style = dotted, label="true"];
0.41 -> 0.6 [style = dotted, label="true"];
0.41 -> 0.7 [style = dotted, label="true"];
0.41 -> 0.8 [style = dotted, label="true"];
0.41 -> 0.9 [style = dotted, label="true"];
0.41 -> 0.10 [style = dotted, label="true"];
0.41 -> 0.11 [style = dotted, label="true"];
0.41 -> 0.12 [style = dotted, label="true"];
0.41 -> 0.13 [style = dotted, label="true"];
0.41 -> 0.14 [style = dotted, label="true"];
0.41 -> 0.15 [style = dotted, label="true"];
0.41 -> 0.18 [style = dotted, label="true"];
0.41 -> 0.19 [style = dotted, label="true"];
0.41 -> 0.21 [style = dotted, label="true"];
0.41 -> 0.22 [style = dotted, label="true"];
0.41 -> 0.26 [style = dotted, label="true"];
0.41 -> 0.27 [style = dotted, label="true"];
0.41 -> 0.28 [style = dotted, label="true"];
0.41 -> 0.29 [style = dotted, label="true"];
0.41 -> 0.30 [style = dotted, label="true"];
0.41 -> 0.31 [style = dotted, label="true"];
0.41 -> 0.32 [style = dotted, label="true"];
0.41 -> 0.37 [style = dotted, label="true"];
0.41 -> 0.38 [style = dotted, label="true"];
0.41 -> 0.39 [style = dotted, label="true"];
0.41 -> 0.40 [style = dotted, label="true"];
}
