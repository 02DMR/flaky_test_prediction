digraph PDG {
label = "testReadWithTimeoutInterleaved <3...41>";
0.2 [style = filled, label = "int length = 4; <6>", fillcolor = white, shape = ellipse];
0.6 [style = filled, label = "iface.getMemoryConfigurationService().setTimeoutMillis(30); <10>", fillcolor = white, shape = ellipse];
0.3 [style = filled, label = "MemoryConfigurationService.McsReadHandler hnd = mock(); <7>", fillcolor = white, shape = ellipse];
0.0 [style = filled, label = "int space = 0xfd; <4>", fillcolor = white, shape = ellipse];
0.9 [style = filled, label = "sendAnother(space, ( address + 5 )); <40>", fillcolor = deeppink, shape = ellipse];
0.5 [style = filled, label = "iface.getDatagramMeteringBuffer().setTimeout(30); <9>", fillcolor = white, shape = ellipse];
0.7 [style = filled, label = "{
iface.getMemoryConfigurationService().requestRead(farID,space,address,length,hnd);
expectMessageAndNoMore(new DatagramMessage(hereID,farID,new int[][]com.propertygraph.pe.ExpressionInfo@1a86e));
System.err.println(\"Expect 'Never received reply' here -->\");
delay(50);
System.err.println(\"<--\");
verify(hnd).handleFailure(0x100);
verifyNoMoreInteractions(hnd);
iface.getMemoryConfigurationService().requestRead(farID,space, ( address + 1 ),length,hnd2);
expectMessageAndNoMore(new DatagramMessage(hereID,farID,new int[][]com.propertygraph.pe.ExpressionInfo@1a8aa));
sendMessage(new DatagramAcknowledgedMessage(farID,hereID,0x80));
consumeMessages();
sendMessage(new DatagramRejectedMessage(farID,hereID,0x2020));
consumeMessages();
System.err.println(\"Expect 'unexpected response datagram' here -->\");
sendMessageAndExpectResult(new DatagramMessage(farID,hereID,new int[][]com.propertygraph.pe.ExpressionInfo@1a8d8),new DatagramAcknowledgedMessage(hereID,farID));
System.err.println(\"<--\");
expectNoMessages();
delay(50);
expectMessageAndNoMore(new DatagramMessage(hereID,farID,new int[][]com.propertygraph.pe.ExpressionInfo@1a8fb));
sendMessage(new DatagramAcknowledgedMessage(farID,hereID,0x80));
consumeMessages();
sendMessage(new DatagramAcknowledgedMessage(farID,hereID,0x80));
consumeMessages();
sendMessageAndExpectResult(new DatagramMessage(farID,hereID,new int[][]com.propertygraph.pe.ExpressionInfo@1a922),new DatagramAcknowledgedMessage(hereID,farID));
verify(hnd2).handleReadData(farID,space, ( address + 1 ),new byte[][]com.propertygraph.pe.ExpressionInfo@1a93c);
verifyNoMoreInteractions(hnd2);
} <11...38>", fillcolor = white, shape = ellipse];
0.10 [style = filled, label = "Enter <3...41>", fillcolor = aquamarine, shape = diamond];
0.1 [style = filled, label = "long address = 0x12345678; <5>", fillcolor = white, shape = ellipse];
0.4 [style = filled, label = "MemoryConfigurationService.McsReadHandler hnd2 = mock(); <8>", fillcolor = white, shape = ellipse];
0.8 [style = filled, label = "System.err.println(\"Sending another request...\"); <39>", fillcolor = white, shape = ellipse];
0.0 -> 0.1 [style = bold, label=""];
0.0 -> 0.7 [style = solid, label="space"];
0.0 -> 0.9 [style = solid, label="space"];
0.1 -> 0.2 [style = bold, label=""];
0.1 -> 0.7 [style = solid, label="address"];
0.1 -> 0.9 [style = solid, label="address"];
0.2 -> 0.3 [style = bold, label=""];
0.2 -> 0.7 [style = solid, label="length"];
0.3 -> 0.4 [style = bold, label=""];
0.3 -> 0.7 [style = solid, label="hnd"];
0.4 -> 0.5 [style = bold, label=""];
0.4 -> 0.7 [style = solid, label="hnd2"];
0.5 -> 0.6 [style = bold, label=""];
0.6 -> 0.7 [style = bold, label=""];
0.7 -> 0.8 [style = bold, label=""];
0.8 -> 0.9 [style = bold, label=""];
0.10 -> 0.0 [style = dotted, label="true"];
0.10 -> 0.0 [style = bold, label=""];
0.10 -> 0.1 [style = dotted, label="true"];
0.10 -> 0.2 [style = dotted, label="true"];
0.10 -> 0.3 [style = dotted, label="true"];
0.10 -> 0.4 [style = dotted, label="true"];
0.10 -> 0.5 [style = dotted, label="true"];
0.10 -> 0.6 [style = dotted, label="true"];
0.10 -> 0.8 [style = dotted, label="true"];
0.10 -> 0.9 [style = dotted, label="true"];
}
